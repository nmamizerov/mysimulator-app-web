# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

## üìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 2025-10-21

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ —Å —Å–∞–π–¥–±–∞—Ä–æ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤.

## ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. BlockItem - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–ª–æ–∫–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `app/entities/block/ui/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–ø—Ä–æ—Å—Ç–æ–π HTML-—Ç–µ–∫—Å—Ç)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º (–∞–≤–∞—Ç–∞—Ä–∫–∞ + –±–∞–±–ª)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç–∏–ø –±–ª–æ–∫–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `dangerouslySetInnerHTML` –¥–ª—è HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ê–≤–∞—Ç–∞—Ä–∫–∞ 64x64px, —Å–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è
- –ë–∞–±–ª —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º –∏ —Ä–∞–º–∫–æ–π
- –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞: `text-subtitle-2` (–∏–º—è), `text-caption` (—Ä–æ–ª—å), `text-body` (—Ç–µ–∫—Å—Ç)

### 2. SimulatorSidebar - –í–∏–¥–∂–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `app/widgets/simulator-sidebar/`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- –õ–æ–≥–æ –∫—É—Ä—Å–∞ (16:9)
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤ (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π)
- –°–ø–∏—Å–æ–∫ —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–º —É—Ä–æ–∫–µ

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

- –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤ –ø–æ –∫–ª–∏–∫—É
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞–º —á–µ—Ä–µ–∑ React Router
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ (`text-primary`, `bg-primary/10`)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
- –ò–∫–æ–Ω–∫–∞ —Å—Ç—Ä–µ–ª–∫–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–æ–≤–æ—Ä–æ—Ç–∞

**–•—É–∫ useSidebar:**

- `toggleLesson(lessonId)` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Ä–æ–∫–∞
- `isLessonExpanded(lessonId)` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Ä–æ–∫–∞
- –•—Ä–∞–Ω–∏—Ç –º–∞—Å—Å–∏–≤ ID —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö —É—Ä–æ–∫–æ–≤ –≤ `useState`

### 3. SimulatorPage - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `app/pages/simulator/ui/simulator-page.tsx`

**Props:**

- `lessonId: string` - –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `simulatorId: string` - –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**API –∑–∞–ø—Ä–æ—Å—ã:**

- `useGetCourseQuery()` - –¥–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞
- `useGetCourseUserQuery()` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `useGetLessonsQuery()` - —Å–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
- `useGetSimulatorQuery()` - –¥–∞–Ω–Ω—ã–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

**–õ–µ–π–∞—É—Ç:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Sidebar ‚îÇ     Main Content               ‚îÇ
‚îÇ 320px   ‚îÇ     flex-1, max-w-896px        ‚îÇ
‚îÇ         ‚îÇ     mx-auto                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç:**

- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ (`text-h3`)
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ (—á–µ—Ä–µ–∑ `BlockItem`)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ "–í—ã –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª–∏ —ç—Ç–æ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä"

## üé® –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### –¶–≤–µ—Ç–∞

- **Primary:** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–∑ `--color-primary` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #009dc5)
- **Secondary:** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–∑ `--color-secondary` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #2196F3)
- **–§–æ–Ω:** `bg-white`, `bg-gray-50`
- **–¢–µ–∫—Å—Ç:** `text-gray-900`, `text-gray-700`, `text-gray-500`

### –†–∞–∑–º–µ—Ä—ã

- **–°–∞–π–¥–±–∞—Ä:** —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ `320px`
- **–ö–æ–Ω—Ç–µ–Ω—Ç:** –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ `896px`, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ê–≤–∞—Ç–∞—Ä–∫–∞:** `64x64px` (w-16 h-16)
- **–°–∫—Ä—É–≥–ª–µ–Ω–∏—è:** `rounded-2xl` (–±–∞–±–ª), `rounded-lg` (—ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞)

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ –∏–∑ `app.css`:

- **h3** - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ (30px, 600, 1.3)
- **h5** - –ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞ (20px, 600, 1.4)
- **subtitle-2** - –ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –º–µ—Ç–∫–∏ (14px, 500, 1.5)
- **body** - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç (16px, 400, 1.5)
- **body-sm** - –°–∏–º—É–ª—è—Ç–æ—Ä—ã –≤ —Å–ø–∏—Å–∫–µ (14px, 400, 1.5)
- **caption** - –†–æ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –ø–æ–¥—Å–∫–∞–∑–∫–∏ (12px, 400, 1.4)

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–µ

- `react` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ UI
- `react-router` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `@heroicons/react` - –∏–∫–æ–Ω–∫–∏
- `@reduxjs/toolkit` - RTK Query –¥–ª—è API
- `clsx` - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ

**Entities:**

- `@/entities/course` - Course, CourseUser, courseApi
- `@/entities/lesson` - Lesson, lessonApi
- `@/entities/simulator` - Simulator, simulatorApi
- `@/entities/block` - Block, UserBlock

**Entities:**

- `@/entities/block` - BlockItem –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**Shared:**

- `@/shared/ui/progress` - Progress –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**Widgets:**

- `@/widgets/simulator-sidebar` - SimulatorSidebar –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–æ—É—Ç

```tsx
// app/routes/lesson.$lessonId.simulator.$simulatorId/route.tsx
import { SimulatorPage } from "@/pages/simulator";

export default function Route({ params }) {
  return (
    <SimulatorPage
      lessonId={params.lessonId}
      simulatorId={params.simulatorId}
    />
  );
}
```

### URL

```
/lesson/1/simulator/5
         ‚Üë          ‚Üë
      lessonId   simulatorId
```

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
URL Params
    ‚Üì
SimulatorPage
    ‚Üì
API Queries (RTK Query)
    ‚îú‚îÄ‚Üí Course (logo, name, colors)
    ‚îú‚îÄ‚Üí CourseUser (progress)
    ‚îú‚îÄ‚Üí Lessons (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤)
    ‚îî‚îÄ‚Üí Simulator (—Ç–µ–∫—É—â–∏–π —Å–∏–º—É–ª—è—Ç–æ—Ä + –±–ª–æ–∫–∏)
    ‚Üì
UI Components
    ‚îú‚îÄ‚Üí SimulatorSidebar
    ‚îÇ   ‚îî‚îÄ‚Üí useSidebar (–ª–æ–≥–∏–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è)
    ‚îî‚îÄ‚Üí BlockItem (—Å–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤)
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:**

- –î–µ—Å–∫—Ç–æ–ø –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
- –°–∞–π–¥–±–∞—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã
- –ö–æ–Ω—Ç–µ–Ω—Ç —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:**

- –°–∫—Ä—ã—Ç—å —Å–∞–π–¥–±–∞—Ä –Ω–∞ –º–æ–±–∏–ª–∫–µ
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∞–π–¥–±–∞—Ä –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** HTML —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `dangerouslySetInnerHTML` - –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
2. **–¢–∏–ø—ã:** –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL (—Å—Ç—Ä–æ–∫–∏) –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ Number –¥–ª—è API
3. **–ó–∞–≥—Ä—É–∑–∫–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º
4. **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** –†–∞—Å–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–∫–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º state (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ)
5. **–°–∫—Ä–æ–ª–ª:** –°–∞–π–¥–±–∞—Ä –∏ –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∫—Ä–æ–ª–ª—è—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## üéØ Best Practices

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

```tsx
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
if (!course || !lessons) {
  return <LoadingState />;
}

// –¢–∏–ø–∏–∑–∞—Ü–∏—è props
interface Props {
  lessonId: string;
  simulatorId: string;
}

// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–ª—è API
useGetSimulatorQuery({
  lessonId: Number(lessonId),
  simulatorId: Number(simulatorId),
});
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

```tsx
// –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
<SimulatorSidebar course={course} />; // –º–æ–∂–µ—Ç –±—ã—Ç—å undefined

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã
useGetSimulatorQuery({ lessonId, simulatorId }); // —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ —á–∏—Å–µ–ª

// –ü—Ä—è–º–æ–π —Ä–µ–Ω–¥–µ—Ä HTML –±–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
<div dangerouslySetInnerHTML={{ __html: text }} />;
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [BlockItem Component](./ui-components/block-item.md)
- [SimulatorSidebar Widget](./widgets/simulator-sidebar.md)
- [Simulator Page](./pages/simulator-page.md)
- [Typography System](./typography-system.md)

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2025-10-21**: –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è - —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **2025-10-21**: –ü–µ—Ä–µ–º–µ—â–µ–Ω `BlockItem` –∏–∑ `shared/ui` –≤ `entities/block/ui` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ FSD —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ)
