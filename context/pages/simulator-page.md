# SimulatorPage - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

`app/pages/simulator/ui/simulator-page.tsx`

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞. –°–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–∞–π–¥–±–∞—Ä–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ –∫—É—Ä—Å—É –∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏.

## üé® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SimulatorSidebar (320px)  ‚îÇ  Content   ‚îÇ
‚îÇ                             ‚îÇ            ‚îÇ
‚îÇ  - –õ–æ–≥–æ –∫—É—Ä—Å–∞              ‚îÇ –ù–∞–∑–≤–∞–Ω–∏–µ   ‚îÇ
‚îÇ  - –ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞          ‚îÇ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ ‚îÇ
‚îÇ  - –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä            ‚îÇ            ‚îÇ
‚îÇ  - –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤           ‚îÇ –ë–ª–æ–∫–∏      ‚îÇ
‚îÇ    ‚îú‚îÄ –£—Ä–æ–∫ 1               ‚îÇ (–º–∞–∫—Å      ‚îÇ
‚îÇ    ‚îÇ  ‚îú‚îÄ –°–∏–º—É–ª—è—Ç–æ—Ä 1       ‚îÇ  896px)    ‚îÇ
‚îÇ    ‚îÇ  ‚îî‚îÄ –°–∏–º—É–ª—è—Ç–æ—Ä 2       ‚îÇ            ‚îÇ
‚îÇ    ‚îî‚îÄ –£—Ä–æ–∫ 2               ‚îÇ            ‚îÇ
‚îÇ       ‚îî‚îÄ –°–∏–º—É–ª—è—Ç–æ—Ä 3       ‚îÇ            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß Props

```typescript
interface SimulatorPageProps {
  lessonId: string; // ID —É—Ä–æ–∫–∞ (–∏–∑ URL)
  simulatorId: string; // ID —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ (–∏–∑ URL)
}
```

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í —Ä–æ—É—Ç–µ—Ä–µ

```tsx
// app/routes/lesson.$lessonId.simulator.$simulatorId/route.tsx
import { SimulatorPage } from "@/pages/simulator";

export default function Route({ params }) {
  return (
    <SimulatorPage
      lessonId={params.lessonId}
      simulatorId={params.simulatorId}
    />
  );
}
```

## üìä API –∑–∞–ø—Ä–æ—Å—ã

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ API endpoints:

```typescript
// –î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞
const { data: course } = useGetCourseQuery();

// –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫—É—Ä—Å—É
const { data: courseUser } = useGetCourseUserQuery();

// –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ –∫—É—Ä—Å–∞
const { data: lessons } = useGetLessonsQuery();

// –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
const { data: simulator } = useGetSimulatorQuery({
  lessonId: Number(lessonId),
  simulatorId: Number(simulatorId),
});
```

## üéØ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç

### –õ–µ–π–∞—É—Ç

```tsx
<main className="flex-1 overflow-y-auto">
  <div className="max-w-[896px] mx-auto px-8 py-12">{/* –ö–æ–Ω—Ç–µ–Ω—Ç */}</div>
</main>
```

### –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

```tsx
<h1 className="text-h3 text-gray-900 mb-8">{simulator.name}</h1>
```

### –°–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤

```tsx
{
  simulator.user?.blocks && simulator.user.blocks.length > 0 ? (
    <div className="space-y-4">
      {simulator.user.blocks.map((userBlock) => (
        <BlockItem key={userBlock.id} block={userBlock} />
      ))}
    </div>
  ) : (
    <div className="text-center py-12">
      <p className="text-body text-gray-500">–í—ã –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª–∏ —ç—Ç–æ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä</p>
    </div>
  );
}
```

## üîÑ –°–æ—Å—Ç–æ—è–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞

–ü–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:

```tsx
if (!course || !lessons || !simulator) {
  return (
    <div className="flex items-center justify-center h-screen">
      <div className="text-body text-gray-500">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
  );
}
```

### –ù–µ—Ç –±–ª–æ–∫–æ–≤

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª —Å–∏–º—É–ª—è—Ç–æ—Ä:

```tsx
<div className="text-center py-12">
  <p className="text-body text-gray-500">–í—ã –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª–∏ —ç—Ç–æ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä</p>
</div>
```

### –ï—Å—Ç—å –±–ª–æ–∫–∏

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `BlockItem`.

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```tsx
<div className="flex h-screen bg-gray-50">
```

- –§–ª–µ–∫—Å-–ª–µ–π–∞—É—Ç –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å–∞–π–¥–±–∞—Ä–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–æ–ª–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞
- –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω

### –ö–æ–Ω—Ç–µ–Ω—Ç

```tsx
<main className="flex-1 overflow-y-auto">
  <div className="max-w-[896px] mx-auto px-8 py-12">
```

- `flex-1` - –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
- `overflow-y-auto` - –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å–∫—Ä–æ–ª–ª
- `max-w-[896px]` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `mx-auto` - —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- `px-8 py-12` - –æ—Ç—Å—Ç—É–ø—ã

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:

```tsx
// –ü—Ä–∏–º–µ—Ä –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
<div className="flex flex-col lg:flex-row h-screen">
  {/* –°–∞–π–¥–±–∞—Ä —Å–∫—Ä—ã—Ç –Ω–∞ –º–æ–±–∏–ª–∫–µ */}
  <div className="hidden lg:block">
    <SimulatorSidebar {...props} />
  </div>

  {/* –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª–∫–µ */}
  <button className="lg:hidden">Menu</button>

  <main className="flex-1">{/* –ö–æ–Ω—Ç–µ–Ω—Ç */}</main>
</div>
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–∏–ø—ã:** `lessonId` –∏ `simulatorId` –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ –∏–∑ URL, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `Number` –¥–ª—è API
2. **–ó–∞–≥—Ä—É–∑–∫–∞:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º
3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –°–∞–π–¥–±–∞—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React Router –¥–ª—è SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏
4. **–°–∫—Ä–æ–ª–ª:** –°–∞–π–¥–±–∞—Ä –∏ –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∫—Ä–æ–ª–ª—è—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- `SimulatorSidebar` - –≤–∏–¥–∂–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∫—É—Ä—Å—É
- `BlockItem` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–ª–æ–∫–∞
- `Progress` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ API

- `courseApi` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫—É—Ä—Å–∞
- `lessonApi` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Ä–æ–∫–æ–≤
- `simulatorApi` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

## üéØ Best Practices

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
if (!course || !lessons || !simulator) {
  return <LoadingState />;
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
return <SimulatorSidebar course={course} />; // –º–æ–∂–µ—Ç –±—ã—Ç—å undefined
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
useGetSimulatorQuery({
  lessonId: Number(lessonId),
  simulatorId: Number(simulatorId),
});

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
useGetSimulatorQuery({ lessonId, simulatorId }); // —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ —á–∏—Å–µ–ª
```

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
URL (params)
    ‚Üì
SimulatorPage (lessonId, simulatorId)
    ‚Üì
API Queries (RTK Query)
    ‚Üì
    ‚îú‚îÄ‚Üí course (useGetCourseQuery)
    ‚îú‚îÄ‚Üí courseUser (useGetCourseUserQuery)
    ‚îú‚îÄ‚Üí lessons (useGetLessonsQuery)
    ‚îî‚îÄ‚Üí simulator (useGetSimulatorQuery)
    ‚Üì
UI Components
    ‚îú‚îÄ‚Üí SimulatorSidebar
    ‚îî‚îÄ‚Üí BlockItem (list)
```

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2025-10-21**: –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `SimulatorPage` —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å–∞–π–¥–±–∞—Ä–∞ –∏ —Å–ø–∏—Å–∫–∞ –±–ª–æ–∫–æ–≤
