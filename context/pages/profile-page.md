# ProfilePage - Страница профиля

## Описание

Страница для просмотра и редактирования профиля персонажа пользователя.

## Расположение

```
app/pages/profile/
├── ui/
│   ├── profile-page.tsx    # Основной компонент страницы
│   └── index.ts           # Экспорт UI
└── index.ts               # Экспорт страницы
```

## Роут

```
/profile
```

Конфигурация в `app/routes.ts`:

```typescript
route("profile", "routes/profile/route.tsx");
```

## Структура страницы

```tsx
export const ProfilePage = () => {
  return (
    <>
      {/* Шапка с логотипом курса (без иконки профиля) */}
      <AppHeader showProfileIcon={false} />

      {/* Основной контент - форма персонажа */}
      <CharacterForm
        title="Профиль персонажа"
        description="Вы можете изменить данные вашего персонажа"
        submitButtonText="Сохранить изменения"
      />
    </>
  );
};
```

## Используемые компоненты

### Виджеты:

- **AppHeader** (`@/widgets/app-header`) - шапка приложения с логотипом
- **CharacterForm** (`@/widgets/character-form`) - форма редактирования персонажа

### Хуки:

- `useNavigate()` - навигация после сохранения

## Навигация

### Переход на страницу:

1. **Из главной страницы** - через иконку профиля в header:

```tsx
<button onClick={() => navigate("/profile")}>
  <UserCircleIcon />
</button>
```

2. **Программно**:

```tsx
navigate("/profile");
```

### Переход со страницы:

После успешного сохранения изменений - редирект на главную:

```tsx
const handleSuccess = () => {
  navigate("/");
};
```

## Layout

Страница использует простой layout без сложной структуры:

- **AppHeader** - виджет header с логотипом (без иконки профиля, т.к. мы уже в профиле)
- Основной контент с максимальной шириной 896px по центру

## Требуемые данные

### Из виджетов:

- **AppHeader** - загружает данные курса внутри себя через `useCourse()`

### Из API:

- **CharacterForm** - загружает и отправляет данные через `useCreateCharacterMutation`

## Пример использования

```tsx
import { ProfilePage } from "@/pages/profile";

// В роутере
export default function Profile() {
  return <ProfilePage />;
}
```

## Защита доступа

⚠️ **Важно**: Страница доступна только авторизованным пользователям.

Если требуется защита, добавьте `useAuthGuard`:

```tsx
export const ProfilePage = () => {
  useAuthGuard(); // Защита от неавторизованных пользователей

  // ... остальной код
};
```

## UI/UX особенности

1. **Консистентность** - используется тот же виджет, что и на странице создания персонажа
2. **Понятность** - измененные заголовок и описание четко указывают назначение страницы
3. **Простота** - минималистичный дизайн без отвлекающих элементов
4. **Feedback** - после сохранения пользователь возвращается на главную страницу

## Связанные страницы

- **CharacterPage** (`/character`) - страница первоначального создания персонажа
- **HomePage** (`/`) - главная страница с переходом в профиль

## Дальнейшее развитие

Возможные улучшения:

- [ ] Добавить отображение текущих данных персонажа
- [ ] Добавить возможность удаления аккаунта
- [ ] Добавить статистику пользователя
- [ ] Добавить историю прохождения уроков
- [ ] Добавить настройки уведомлений
